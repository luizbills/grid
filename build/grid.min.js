!function(t,i){"function"==typeof define&&define.amd?define([],i):"object"==typeof module&&module.exports?module.exports=i():t.grid=i()}(this,function(){function t(t,c){t=0|t||1,c=0|c||1;var f={width:t,height:c,length:t*c,get:i,set:e,remove:n,isValid:o,resize:h,reset:r,forEach:s,map:l,clone:u,_cells:[]};return f}function i(t,i){return this._cells[c(t,i,this.width)]}function e(t,i,e){return this._cells[c(t,i,this.width)]=e}function n(t,i){this._cells[c(t,i,this.width)]=a}function h(t,i){if(t<=0||i<=0)throw new Error("Invalid grid size");this.width=t,this.height=i,this.length=t*i}function r(){this._cells=[]}function o(t,i){return w(t,i,this.width,this.height)}function s(t,i){for(var e=0,n=this,h=n._cells,r=n.length;e<r;e++)t.call(i,h[e],f(e,n.width),d(e,n.width),n)}function l(i,e){for(var n=0,h=this,r=h._cells,o=h.length,s=t(h.width,h.height);n<o;n++){var l=f(n,h.width),u=d(n,h.width);s.set(l,u,i.call(e,r[n],l,u,h))}return s}function u(){for(var i=0,e=this,n=e._cells,h=e.length,r=t(e.width,e.height);i<h;i++)n[i]!==a&&r.set(f(i,e.width),d(i,e.width),n[i]);return r}function c(t,i,e){return t+i*e}function f(t,i){return t%i}function d(t,i){return Math.floor(t/i)}function w(t,i,e,n){return!(t<0||i<0||t>=e||i>=n)}var a;return t});